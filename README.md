# Re:kind — 優しさを再点火するSNS

![Build Status](https://github.com/YOUR_USERNAME/rekind/actions/workflows/ci.yml/badge.svg)
![GitHub Pages](https://img.shields.io/badge/GitHub%20Pages-Live-brightgreen?logo=github)

Re:kind は、ネガティブになりがちなSNSを「共感→感謝→支援→共感」の優しさの循環に変える体験を提供するSNSアプリケーションです。

## 📖 プロジェクト説明

Re:kind は、従来のSNSの「いいね」「コメント」といった機能を「ありがとう」「励まし」といった優しさの言葉に置き換え、ユーザー間のポジティブな相互作用を促進するプラットフォームです。感謝の気持ちが視覚的に「花」として表現され、蓄積された優しさが「KindCoin」として可視化されます。これらの要素が組み合わさることで、ユーザーは日々の優しさの行動を記録し、共有し、循環させることができます。

## 💡 理念

現代のSNSは、しばしばネガティブな感情や競争的な関係性を生み出してしまいます。Re:kind は、このような現状を変えるために生まれました。

### 私たちの願い

- **優しさの可視化**: 小さな優しさも見逃さず、花やコインとして記録することで、ユーザーが自分の行動を振り返ることができる
- **感謝の循環**: 「ありがとう」を送ることで、相手のプロフィールに花が咲き、コインが発行される。この循環が優しさの連鎖を生む
- **ポジティブな言葉**: 従来のSNS用語を優しさの言葉に置き換えることで、コミュニケーションの質を変える
- **社会への還元**: 蓄積されたKindCoinを寄付することで、優しさが社会に還元される仕組み

### デザインフィロソフィー

- **花と光のモチーフ**: 優しさを花に、感謝を光に例えることで、抽象的な概念を視覚的に表現
- **温かみのある色調**: オレンジ、ライトグリーン、ベージュなどの温かみのある色で、ポジティブな印象を与える
- **控えめなデザイン**: 過度な装飾を避け、コンテンツと相互作用に集中できるUI

## ✨ 機能一覧

### 🌸 ありがとう記録（Thank You Bloom）

- **感謝の可視化**: 他のユーザーから励ましメッセージを受け取ったとき、「ありがとう」ボタンを押すことで感謝を表現
- **花が咲く**: 感謝を受けた相手のプロフィールに、メッセージの種類に応じた花が咲く
  - 短いメッセージ: 共感の花（empathy）
  - 中程度のメッセージ: 勇気の花（courage）
  - 長いメッセージ: 救済の花（rescue）
  - 非常に長いメッセージ: 花束（bouquet）
- **花壇（BloomWall）**: プロフィールに咲いた花を一覧で表示し、受け取った感謝を視覚的に確認できる

### 📅 共感カレンダー（Empathy Calendar）

- **1日1優しさ**: 毎日の優しい行動をカレンダーに記録
- **花の種類**: 行動の種類に応じて異なる花が記録される
  - **daisy（共感）**: 投稿をした日
  - **tulip（励まし）**: 励ましメッセージを送った日
  - **lotus（ありがとう）**: 感謝を送った日
  - **sunflower（寄付）**: KindCoinを寄付した日
  - **blossom（連続記録）**: 連続して優しさの行動を記録した日
- **ストリーク**: 連続記録日数を表示し、継続を促す

### 💰 KindCoin

- **感謝の報酬**: 「ありがとう」を受けたユーザーにKindCoinが発行される
- **ウォレット**: 保有しているKindCoinを管理
- **使い道**:
  - **花を贈る**: 他のユーザーにKindCoinを贈ることで、その人の花壇に花束が咲く
  - **寄付（デモ）**: 3つの社会プロジェクト（子どもの未来支援、フードロス削減、孤立防止）にKindCoinを寄付

### 🎯 Kind Mission

- **日々のミッション**: 毎日、小さな優しさのミッションが表示される
- **ミッション例**:
  - 「誰かに優しい言葉をかける」
  - 「感謝の気持ちを伝える」
  - 「困っている人を助ける」
- **報酬**: ミッションを完了するとKindCoinが発行される
- **カレンダー連動**: ミッション完了がカレンダーに記録される

### 📝 投稿と励まし

- **気持ちの共有**: 今の気持ちや悩みを投稿して共有
- **励ましメッセージ**: 他のユーザーの投稿に励ましを送る
- **やわらかい表現**: 投稿前にメッセージをやわらかく変換するオプション（強すぎる表現を和らげる）

### 👤 プロフィール

- **花壇**: 受け取った感謝の花を表示
- **最近の励まし**: 送った励ましメッセージの一覧
- **光でつながる**: 他のユーザーと軽い関係性を結ぶ（フォローではなく、相互リンク）

## 🎬 操作手順（デモストーリー）

アプリを起動すると、自動的にデモデータが投入されます。以下のシナリオで優しさの循環を体験できます。

### デモデータ構成

- **ユーザーA（投稿者）**: やさしい手 #A001
  - 2件の投稿を作成（悩み/夜さみしい）
  - デフォルトでログイン済み
  
- **ユーザーB（励ます人）**: やさしい手 #B002
  - Aに励ましを送信済み（感謝待ち状態）
  - 「ありがとう」後に花とコインがもらえます
  
- **ユーザーC（見る人）**: やさしい手 #C003
  - 観察者として機能

### ワンクリック体験フロー

#### 1. ホーム画面を確認
- ユーザーAとしてログイン済み
- 2件の投稿が表示されています
- 1件目の投稿には、ユーザーBからの励ましメッセージが表示されています

#### 2. 「ありがとう」を送る（ユーザーAの視点）
- 1件目の投稿の励ましメッセージにある「ありがとう 🌸」ボタンをクリック
- ユーザーBのプロフィールに花が咲き、KindCoinが1枚発行されます
- トースト通知で「あなたのありがとうが花とコインになりました」と表示
- カレンダーにlotus（ありがとう）が記録されます

#### 3. ユーザーBに切り替えてコインを寄付

**ユーザーBのIDを取得**
- ブラウザの開発者ツールのコンソールを開く（F12）
- 以下を実行してユーザーBのIDを確認：
  ```javascript
  const users = JSON.parse(localStorage.getItem('rekind_db')).users;
  const userB = users.find(u => u.name.includes('B002'));
  console.log('ユーザーBのID:', userB.id);
  console.log('ユーザーBの名前:', userB.name);
  ```

**ユーザーBに切り替え**
- コンソールで以下を実行してユーザーBに切り替え：
  ```javascript
  const userId = JSON.parse(localStorage.getItem('rekind_db')).users.find(u => u.name.includes('B002')).id;
  localStorage.setItem('rekind_current_user', userId);
  location.reload();
  ```
- または、直接 `/profile/{BのID}` にアクセスしてプロフィールを確認

**コインを寄付**
- ページリロード後、ユーザーBとしてログインした状態になります
- 「ウォレット」ページに移動
- 「寄付する」ボタンをクリック
- 寄付プロジェクトを選択して寄付を実行
- カレンダーにsunflower（寄付/コイン使用）が記録されます

#### 4. カレンダーを確認
- 「Calendar」ページに移動
- 各ユーザーのカレンダーに記録された花を確認
  - ユーザーA: daisy（投稿）、lotus（ありがとう）
  - ユーザーB: tulip（励まし）、sunflower（寄付）

#### 5. プロフィールで花壇を確認
- ユーザーBのプロフィールに移動
- 「花壇」セクションで受け取った花を確認
- 「最近の励まし」セクションで送った励ましを確認

### デモデータのリセット

ブラウザの開発者ツールのコンソールで以下を実行すると、デモデータをリセットできます：

```javascript
localStorage.clear();
location.reload();
```

### デモのポイント

1. **優しさの循環**: 投稿 → 励まし → ありがとう → 花・コイン → 寄付 → カレンダー記録
2. **視覚的フィードバック**: 花が咲く、コインが発行される、カレンダーに記録される
3. **インタラクティブな体験**: 実際に操作して優しさの循環を体験できる

## 🛠 技術構成

### フロントエンド

- **フレームワーク**: React 18 + TypeScript
- **ビルドツール**: Vite
- **スタイリング**: Tailwind CSS
- **状態管理**: Zustand
- **ルーティング**: React Router v6
- **日付処理**: date-fns

### データ永続化

- **現在**: localStorage（クライアントサイドのみ）
- **設計**: APIに差し替え可能な抽象化レイヤーを実装
  - `StorageAdapter` インターフェース
  - `LocalDB` クラス（現在の実装）
  - 将来的に `APIDB` クラスに置き換え可能

### テスト

- **フレームワーク**: Vitest
- **テストライブラリ**: Testing Library (React)
- **環境**: jsdom
- **カバレッジ**: ユニットテストとコンポーネントスモークテスト

### 開発ツール

- **Linter**: ESLint
- **Formatter**: Prettier
- **型チェック**: TypeScript
- **CI/CD**: GitHub Actions

### デザインシステム

- **テーマカラー**: 
  - Primary: オレンジ(#FFB347)
  - Secondary: ライトグリーン(#C5E1A5)
  - Accent: ホワイトゴールド(#FDF1C2)
  - Neutral: 濃色(#2F3E46)
  - Background: ベージュ(#FAF5E9)
- **モチーフ**: 花と光
- **表現言語**: 従来のSNS語を優しさの言葉に置換
  - 「コメント」→「励まし」
  - 「いいね」→「ありがとう」
  - 「シェア」→「光を渡す」

## 🚀 将来計画

### Phase 1: API統合

- **RESTful API**: バックエンドAPIの実装
- **データ同期**: 複数デバイス間でのデータ同期
- **リアルタイム更新**: WebSocketを使用したリアルタイム通知

### Phase 2: 認証システム

- **OAuth統合**: Google、Twitter、GitHubなどのOAuthプロバイダーと統合
- **匿名性の維持**: 匿名IDを維持しながら、セキュアな認証を実現
- **プライバシー保護**: ユーザーデータの暗号化とプライバシー設定

### Phase 3: 本番寄付連携

- **実在するプロジェクト**: 実際のNPO/NGOプロジェクトとの連携
- **透明性**: 寄付の使途を透明化
- **ブロックチェーン（検討）**: 寄付の透明性を高めるためのブロックチェーン技術の検討

### Phase 4: 機能拡張

- **コミュニティ**: テーマ別のコミュニティ機能
- **アチーブメント**: 優しさの行動に対するアチーブメントシステム
- **統計ダッシュボード**: 個人の優しさの統計を可視化
- **多言語対応**: 英語、その他の言語への対応

### Phase 5: モバイルアプリ

- **iOS/Android**: ネイティブモバイルアプリの開発
- **プッシュ通知**: 優しさのリマインダーや通知

## 📸 スクリーンショット

### ホーム画面

![Home](./docs/home.png)

ホーム画面では、投稿一覧と投稿フォームが表示されます。他のユーザーの投稿に励ましを送ったり、「ありがとう」を送ることができます。

### ウォレット画面

![Wallet](./docs/wallet.png)

ウォレット画面では、保有しているKindCoinを確認し、寄付や花の贈与を行うことができます。

### カレンダー画面

![Calendar](./docs/calendar.png)

カレンダー画面では、日々の優しさの行動が花として記録され、連続記録日数（ストリーク）を確認できます。

## 🎨 デザイン

- **スタイリング**: Tailwind CSSを使用したユーティリティファーストアプローチ
- **アクセシビリティ**: 
  - キーボードナビゲーション対応
  - ARIA属性の適切な使用
  - フォーカス可視化
  - スクリーンリーダー対応

## 📦 開発

### セットアップ

```bash
# 依存関係のインストール
npm install

# 開発サーバーの起動
npm run dev

# ビルド
npm run build

# プレビュー
npm run preview

# リント
npm run lint

# フォーマット
npm run format

# テスト
npm test

# ローカルデプロイ検証（gh-pages）
npm run deploy
```

## 🚢 デプロイ

### GitHub Pages

このアプリケーションは GitHub Pages にデプロイされています。

**URL**: `https://<your-username>.github.io/rekind/`

#### 自動デプロイ

`main` ブランチへのプッシュで自動的にデプロイされます。GitHub Actions が以下の処理を実行します：

1. コードチェックアウト
2. 依存関係のインストール（`npm ci`）
3. ビルド（`npm run build`）
4. GitHub Pages へのデプロイ

#### 手動デプロイ（ローカル）

ローカルから手動でデプロイする場合:

```bash
npm run build
npm run deploy
```

> **注意**: 手動デプロイは `gh-pages` パッケージを使用します。GitHub Actions の自動デプロイとは異なる方法です。

#### 重要な注意点

1. **ベースパス**: `vite.config.ts` で `base: '/rekind/'` が設定されています。リポジトリ名が異なる場合は、この設定を変更してください。

2. **GitHub Pages 設定**: 
   - リポジトリの Settings > Pages で "Source" を "GitHub Actions" に設定してください
   - デプロイ先のブランチは `gh-pages` ではなく、GitHub Actions が自動的に処理します

3. **ルーティング**: React Router を使用しているため、404エラーを避けるために、GitHub Pages の設定で "Custom 404" を設定するか、`404.html` を追加することを推奨します（Vite のビルド時に自動生成される場合があります）

4. **相対パス**: `index.html` 内のリソースパスは相対パス（`./`）を使用しています。絶対パス（`/`）を使用すると、GitHub Pages のサブディレクトリで正しく動作しません。

## 📁 プロジェクト構造

```
src/
├── app/
│   ├── routes.tsx          # ルーティング設定
│   ├── Layout.tsx          # レイアウトコンポーネント
│   └── store/
│       └── useAppStore.ts  # Zustandストア
├── components/
│   ├── ui/                 # 基本UIコンポーネント
│   ├── icons/              # アイコンコンポーネント
│   ├── layout/             # レイアウトコンポーネント
│   └── auth/               # 認証コンポーネント
├── features/               # 機能別コンポーネント
│   ├── post/               # 投稿機能
│   ├── encourage/          # 励まし機能
│   ├── gratitude/          # 感謝記録
│   ├── wallet/             # KindCoinウォレット
│   ├── calendar/           # 共感カレンダー
│   ├── mission/            # Kind Mission
│   └── profile/            # プロフィール
├── lib/
│   ├── storage/            # ストレージ抽象化
│   ├── services/           # ビジネスロジック
│   ├── utils/              # ユーティリティ関数
│   ├── types.ts            # 型定義
│   └── theme.ts            # テーマ設定
├── pages/                  # ページコンポーネント
├── styles/
│   └── globals.css         # グローバルスタイル
└── test/                   # テストファイル
```

## 📄 ライセンス

MIT

---

**Re:kind** - 優しさを再点火するSNS
